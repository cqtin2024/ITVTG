<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C·∫≠p Nh·∫≠t T·ªâ S·ªë Gi·∫£i ƒê·∫•u C·∫ßu L√¥ng ƒê√¥i</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        h1, h2 {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }
        .container {
            display: flex;
            gap: 20px;
        }
        .matches-section, .tables-section, .knockout-section {
            flex: 1;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .tables-section {
            flex: 1.2; /* TƒÉng chi·ªÅu r·ªông khu v·ª±c b·∫£ng x·∫øp h·∫°ng */
        }
        .group-table, .group-matches {
            margin-bottom: 30px;
            border: 1px solid #ccc;
            border-radius: 6px;
            overflow: hidden;
        }
        .group-matches h3, .group-table h3 {
            background-color: #007bff;
            color: white;
            padding: 10px;
            margin: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #e9ecef;
        }
        .score-input {
            width: 40px;
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .highlight-winner {
            background-color: #c3e6cb; /* Xanh l√° nh·∫°t */
            font-weight: bold;
        }
        .highlight-runnerup {
            background-color: #ffeeba; /* V√†ng nh·∫°t */
        }
        .knockout-list {
            list-style: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .knockout-list li {
            width: calc(50% - 10px);
            padding: 8px;
            background-color: #e9f5ff;
            border-left: 5px solid #007bff;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <h1>üèÜ Gi·∫£i ƒê·∫•u C·∫ßu L√¥ng ƒê√¥i - B·∫£ng ƒêi·ªÅu Khi·ªÉn T·ªâ S·ªë</h1>
    <p>C·∫≠p nh·∫≠t t·ªâ s·ªë c√°c tr·∫≠n ƒë·∫•u v√≤ng b·∫£ng. **ƒêi·ªÉm (Pts) ƒë∆∞·ª£c t√≠nh b·∫±ng S·ªë tr·∫≠n th·∫Øng (W)**.</p>

    <div class="container">
        <div class="matches-section">
            <h2>Tr·∫≠n ƒê·∫•u V√≤ng B·∫£ng</h2>
            <div id="matches-container">
                </div>
        </div>

        <div class="tables-section">
            <h2>B·∫£ng X·∫øp H·∫°ng</h2>
            <div id="tables-container">
                </div>
        </div>
    </div>

    <div class="knockout-section">
        <h2>‚úÖ C√°c ƒê·ªôi V√†o T·ª© K·∫øt (Nh·∫•t & Nh√¨ B·∫£ng)</h2>
        <ul id="knockout-teams" class="knockout-list">
            </ul>
    </div>
    
    <script>
        // D·ªØ li·ªáu JSON kh·ªüi t·∫°o t·ª´ file c·ªßa Stackholder
        const originalData = {
            "key_legend": { /* ... */ },
            "tableA": [ { "D": "Team 9", "W": 3, "L": 0, "HS": "11", "Pts": 9, "mP": 3 }, { "D": "Team 3", "W": 2, "L": 1, "HS": "11", "Pts": 6, "mP": 3 }, { "D": "Team 11", "W": 1, "L": 2, "HS": "11", "Pts": 3, "mP": 3 }, { "D": "Team 5", "W": 0, "L": 3, "HS": "0", "Pts": 0, "mP": 3 } ],
            "tableB": [ { "D": "Team 4", "W": 3, "L": 0, "HS": "11", "Pts": 9, "mP": 3 }, { "D": "Team 7", "W": 2, "L": 1, "HS": "11", "Pts": 6, "mP": 3 }, { "D": "Team 12", "W": 1, "L": 2, "HS": "11", "Pts": 3, "mP": 3 }, { "D": "Team 1", "W": 0, "L": 3, "HS": "0", "Pts": 0, "mP": 3 } ],
            "tableC": [ { "D": "Team 16", "W": 3, "L": 0, "HS": "11", "Pts": 9, "mP": 3 }, { "D": "Team 10", "W": 2, "L": 1, "HS": "11", "Pts": 6, "mP": 3 }, { "D": "Team 14", "W": 1, "L": 2, "HS": "11", "Pts": 3, "mP": 3 }, { "D": "Team 6", "W": 0, "L": 3, "HS": "0", "Pts": 0, "mP": 3 } ],
            "tableD": [ { "D": "Team 13", "W": 3, "L": 0, "HS": "11", "Pts": 9, "mP": 3 }, { "D": "Team 8", "W": 2, "L": 1, "HS": "11", "Pts": 6, "mP": 3 }, { "D": "Team 15", "W": 1, "L": 2, "HS": "11", "Pts": 3, "mP": 3 }, { "D": "Team 2", "W": 0, "L": 3, "HS": "0", "Pts": 0, "mP": 3 } ],
            "matchesA": [ { "t": "14:00", "c": "S1", "A": "Team 9", "sA": "11", "B": "Team 3", "sB": "0", "Wn": "Team 9" }, { "t": "14:15", "c": "S1", "A": "Team 11", "sA": "11", "B": "Team 5", "sB": "0", "Wn": "Team 11" }, { "t": "14:30", "c": "S1", "A": "Team 9", "sA": "11", "B": "Team 11", "sB": "0", "Wn": "Team 9" }, { "t": "14:45", "c": "S1", "A": "Team 3", "sA": "11", "B": "Team 5", "sB": "0", "Wn": "Team 3" }, { "t": "15:00", "c": "S1", "A": "Team 9", "sA": "11", "B": "Team 5", "sB": "0", "Wn": "Team 9" }, { "t": "15:15", "c": "S1", "A": "Team 3", "sA": "11", "B": "Team 11", "sB": "0", "Wn": "Team 3" } ],
            "matchesB": [ { "t": "14:00", "c": "S2", "A": "Team 4", "sA": "11", "B": "Team 7", "sB": "0", "Wn": "Team 4" }, { "t": "14:15", "c": "S2", "A": "Team 12", "sA": "11", "B": "Team 1", "sB": "0", "Wn": "Team 12" }, { "t": "14:30", "c": "S2", "A": "Team 4", "sA": "11", "B": "Team 12", "sB": "0", "Wn": "Team 4" }, { "t": "14:45", "c": "S2", "A": "Team 7", "sA": "11", "B": "Team 1", "sB": "0", "Wn": "Team 7" }, { "t": "15:00", "c": "S2", "A": "Team 4", "sA": "11", "B": "Team 1", "sB": "0", "Wn": "Team 4" }, { "t": "15:15", "c": "S2", "A": "Team 7", "sA": "11", "B": "Team 12", "sB": "0", "Wn": "Team 7" } ],
            "matchesC": [ { "t": "14:00", "c": "S3", "A": "Team 16", "sA": "11", "B": "Team 10", "sB": "0", "Wn": "Team 16" }, { "t": "14:15", "c": "S3", "A": "Team 14", "sA": "11", "B": "Team 6", "sB": "0", "Wn": "Team 14" }, { "t": "14:30", "c": "S3", "A": "Team 16", "sA": "11", "B": "Team 14", "sB": "0", "Wn": "Team 16" }, { "t": "14:45", "c": "S3", "A": "Team 10", "sA": "11", "B": "Team 6", "sB": "0", "Wn": "Team 10" }, { "t": "15:00", "c": "S3", "A": "Team 16", "sA": "11", "B": "Team 6", "sB": "0", "Wn": "Team 16" }, { "t": "15:15", "c": "S3", "A": "Team 10", "sA": "11", "B": "Team 14", "sB": "0", "Wn": "Team 10" } ],
            "matchesD": [ { "t": "14:00", "c": "S4", "A": "Team 13", "sA": "11", "B": "Team 8", "sB": "0", "Wn": "Team 13" }, { "t": "14:15", "c": "S4", "A": "Team 15", "sA": "11", "B": "Team 2", "sB": "0", "Wn": "Team 15" }, { "t": "14:30", "c": "S4", "A": "Team 13", "sA": "11", "B": "Team 15", "sB": "0", "Wn": "Team 13" }, { "t": "14:45", "c": "S4", "A": "Team 8", "sA": "11", "B": "Team 2", "sB": "0", "Wn": "Team 8" }, { "t": "15:00", "c": "S4", "A": "Team 13", "sA": "11", "B": "Team 2", "sB": "0", "Wn": "Team 13" }, { "t": "15:15", "c": "S4", "A": "Team 8", "sA": "11", "B": "Team 15", "sB": "0", "Wn": "Team 8" } ],
            "tL": [
                { "g": "A", "T": "Team 9", "aPL": 3.5, "s": 1, "P": [ { "name": "T·ª´ Duy H∆∞ng", "bY": "1995", "ph": "09xx-xxx-001", "em": "duyhung@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Tr·∫ßn Nguy·ªÖn Minh T√∫", "bY": "1998", "ph": "09xx-xxx-002", "em": "minhtu@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "A", "T": "Team 3", "aPL": 3.5, "s": 2, "P": [ { "name": "V√µ D∆∞∆°ng Qu·ªëc Th·ªãnh", "bY": "1996", "ph": "09xx-xxx-003", "em": "quocthinh@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "L√™ Minh Ph∆∞∆°ng", "bY": "1997", "ph": "09xx-xxx-004", "em": "minhphuong@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "A", "T": "Team 11", "aPL": 2.0, "s": 3, "P": [ { "name": "Minh Chang", "bY": "2000", "ph": "09xx-xxx-005", "em": "minhchang@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "L√™ Minh Ch√¢u", "bY": "2001", "ph": "09xx-xxx-006", "em": "minhchau@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "A", "T": "Team 5", "aPL": 4.5, "s": 4, "P": [ { "name": "Mai Qu·ªëc Kh√°nh", "bY": "1993", "ph": "09xx-xxx-007", "em": "quockhanh@example.com", "pL": 5, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Nguy·ªÖn B√° Linh V≈©", "bY": "1994", "ph": "09xx-xxx-008", "em": "linhvua@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "B", "T": "Team 4", "aPL": 3.0, "s": 1, "P": [ { "name": "Tr·∫ßn Qu√≠ Tu·∫•n", "bY": "1992", "ph": "09xx-xxx-009", "em": "quytuan@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Ho√†ng M·∫°nh H√πng", "bY": "1993", "ph": "09xx-xxx-010", "em": "manhhung@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "B", "T": "Team 7", "aPL": 4.5, "s": 2, "P": [ { "name": "Nguy·ªÖn Qu·ªëc H√πng", "bY": "1999", "ph": "09xx-xxx-011", "em": "quochung@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Ph·∫°m ƒê·ª©c Duy", "bY": "2000", "ph": "09xx-xxx-012", "em": "ducduy@example.com", "pL": 5, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "B", "T": "Team 12", "aPL": 2.5, "s": 3, "P": [ { "name": "ƒêinh Ho√†ng Thanh S∆°n", "bY": "1995", "ph": "09xx-xxx-013", "em": "thanhson@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Tr·∫ßn ƒê·ªó Khoa Ti·∫øn", "bY": "1997", "ph": "09xx-xxx-014", "em": "khoatien@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "B", "T": "Team 1", "aPL": 5.0, "s": 4, "P": [ { "name": "B√πi Quang Ti·∫øn", "bY": "1990", "ph": "09xx-xxx-015", "em": "quangtien@example.com", "pL": 5, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Mai T·∫•t Th√†nh", "bY": "1991", "ph": "09xx-xxx-016", "em": "tatthanh@example.com", "pL": 5, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "C", "T": "Team 16", "aPL": 2.5, "s": 1, "P": [ { "name": "Nguy·ªÖn Ho√†ng Thanh", "bY": "1996", "ph": "09xx-xxx-017", "em": "hoangthanh@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Tr·∫ßn C√¥ng Ph∆∞∆°ng", "bY": "1997", "ph": "09xx-xxx-018", "em": "congphuong@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "C", "T": "Team 10", "aPL": 3.5, "s": 2, "P": [ { "name": "L√™ Duy", "bY": "1994", "ph": "09xx-xxx-019", "em": "leduy@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "H·ªì Thanh V∆∞∆°ng", "bY": "1995", "ph": "09xx-xxx-020", "em": "thanhvuong@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "C", "T": "Team 14", "aPL": 1.5, "s": 3, "P": [ { "name": "Nguy·ªÖn VƒÉn C∆∞·ªùng", "bY": "1998", "ph": "09xx-xxx-021", "em": "vancuong@example.com", "pL": 1, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "ƒêo√†n VƒÉn D≈©ng", "bY": "1999", "ph": "09xx-xxx-022", "em": "vandunga@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "C", "T": "Team 6", "aPL": 3.5, "s": 4, "P": [ { "name": "Tr·∫ßn Ng·ªçc ƒê√¥ng Chu", "bY": "2000", "ph": "09xx-xxx-023", "em": "dongchu@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Nguy·ªÖn Ng·ªçc H√πng", "bY": "2001", "ph": "09xx-xxx-024", "em": "ngochung@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "D", "T": "Team 13", "aPL": 4.5, "s": 1, "P": [ { "name": "L√™ B√° Ch√¢u", "bY": "1993", "ph": "09xx-xxx-025", "em": "bachau@example.com", "pL": 5, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Ng√¥ Hi·ªÅn Phong", "bY": "1994", "ph": "09xx-xxx-026", "em": "hienphong@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "D", "T": "Team 2", "aPL": 3.0, "s": 2, "P": [ { "name": "Tr·∫ßn Vi·∫øt Tu·∫•n", "bY": "1990", "ph": "09xx-xxx-027", "em": "viettuan@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Hu·ª≥nh L√™ Quang D≈©ng", "bY": "1991", "ph": "09xx-xxx-028", "em": "quangdunga@example.com", "pL": 3, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "D", "T": "Team 15", "aPL": 2.0, "s": 3, "P": [ { "name": "Hu·ª≥nh Minh Thi·ªán", "bY": "1995", "ph": "09xx-xxx-029", "em": "minhthien@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Nguy·ªÖn Duy Minh", "bY": "1996", "ph": "09xx-xxx-030", "em": "duyminh@example.com", "pL": 2, "gC": "BD_DB", "fC": "RR_KO" } ] },
                { "g": "D", "T": "Team 8", "aPL": 4.5, "s": 4, "P": [ { "name": "L·∫°i Ti·∫øn M·∫°nh", "bY": "1998", "ph": "09xx-xxx-031", "em": "tienmanh@example.com", "pL": 4, "gC": "BD_DB", "fC": "RR_KO" }, { "name": "Cao Quang T√≠n", "bY": "1999", "ph": "09xx-xxx-032", "em": "quangtin@example.com", "pL": 5, "gC": "BD_DB", "fC": "RR_KO" } ] }
            ]
        };

        const groups = ['A', 'B', 'C', 'D'];
        const data = JSON.parse(JSON.stringify(originalData)); // T·∫°o b·∫£n sao d·ªØ li·ªáu

        // H√†m t√≠nh to√°n l·∫°i b·∫£ng x·∫øp h·∫°ng
        function calculateGroupTables() {
            const tableData = {};
            
            // 1. Kh·ªüi t·∫°o d·ªØ li·ªáu
            data.tL.forEach(team => {
                const group = team.g;
                if (!tableData[group]) tableData[group] = {};
                tableData[group][team.T] = { 
                    W: 0, L: 0, Pts: 0, mP: 0, D: team.T, HS: 0, GS: 0, GC: 0 
                }; 
            });

            // 2. C·∫≠p nh·∫≠t k·∫øt qu·∫£ tr·∫≠n ƒë·∫•u
            groups.forEach(group => {
                data['matches' + group].forEach(match => {
                    const scoreA = parseInt(match.sA);
                    const scoreB = parseInt(match.sB);
                    
                    if (scoreA !== 0 || scoreB !== 0) { 
                        tableData[group][match.A].mP += 1;
                        tableData[group][match.B].mP += 1;
                        tableData[group][match.A].GS += scoreA;
                        tableData[group][match.B].GS += scoreB;
                        tableData[group][match.A].GC += scoreB;
                        tableData[group][match.B].GC += scoreA;

                        if (scoreA > scoreB) {
                            tableData[group][match.A].W += 1;
                            tableData[group][match.B].L += 1;
                            if (scoreA > tableData[group][match.A].HS) tableData[group][match.A].HS = scoreA;
                        } else if (scoreB > scoreA) {
                            tableData[group][match.B].W += 1;
                            tableData[group][match.A].L += 1;
                            if (scoreB > tableData[group][match.B].HS) tableData[group][match.B].HS = scoreB;
                        } 
                        // L∆∞u √Ω: Tr∆∞·ªùng h·ª£p h√≤a (c·∫ßu l√¥ng) kh√¥ng ƒë∆∞·ª£c t√≠nh ƒëi·ªÉm W/L
                    }
                });
            });

            // 3. X·∫øp h·∫°ng (S·∫Øp x·∫øp)
            groups.forEach(group => {
                const sortedTable = Object.values(tableData[group]).map(team => ({
                    ...team,
                    Pts: team.W // Y√™u c·∫ßu: Pts = S·ªë tr·∫≠n th·∫Øng (W)
                })).sort((a, b) => {
                    // Ti√™u ch√≠ 1: ƒêi·ªÉm s·ªë (Pts = W)
                    if (b.Pts !== a.Pts) return b.Pts - a.Pts;
                    
                    // Ti√™u ch√≠ 2: Hi·ªáu s·ªë game (GS - GC)
                    const diffA = a.GS - a.GC;
                    const diffB = b.GS - b.GC;
                    if (diffB !== diffA) return diffB - diffA;

                    // Ti√™u ch√≠ 3: T·ªïng s·ªë game th·∫Øng (GS)
                    return b.GS - a.GS;
                });
                data['table' + group] = sortedTable.map(item => ({ ...item, HS: item.HS.toString() })); 
            });

            renderTables();
            renderKnockoutTeams();
        }

        // H√†m render B·∫£ng X·∫øp H·∫°ng
        function renderTables() {
            const container = document.getElementById('tables-container');
            container.innerHTML = '';

            groups.forEach(group => {
                const tableHtml = `
                    <div class="group-table">
                        <h3>B·∫£ng ${group}</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>ƒê·ªôi (D)</th>
                                    <th>Th·∫Øng (W)</th>
                                    <th>Thua (L)</th>
                                    <th>ƒê.T√≠ch l≈©y (Pts)</th>
                                    <th>HS Game (GS-GC)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data['table' + group].map((team, index) => {
                                    let rowClass = '';
                                    if (index === 0) rowClass = 'highlight-winner';
                                    else if (index === 1) rowClass = 'highlight-runnerup';
                                    const gamesDiff = team.GS - team.GC;

                                    return `
                                        <tr class="${rowClass}">
                                            <td>${index + 1}</td>
                                            <td>${team.D}</td>
                                            <td>${team.W}</td>
                                            <td>${team.L}</td>
                                            <td>${team.Pts}</td>
                                            <td>${gamesDiff}</td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
                container.innerHTML += tableHtml;
            });
        }

        // H√†m render Danh s√°ch ƒê·ªôi v√†o T·ª© k·∫øt
        function renderKnockoutTeams() {
            const ul = document.getElementById('knockout-teams');
            ul.innerHTML = '';
            
            groups.forEach(group => {
                const winner = data['table' + group][0];
                const runnerUp = data['table' + group][1];

                if (winner && winner.W > 0) { // ƒê·∫£m b·∫£o ƒë·ªôi c√≥ th·∫Øng √≠t nh·∫•t 1 tr·∫≠n ƒë·ªÉ h·ª£p l·ªá
                    ul.innerHTML += `<li>Nh·∫•t B·∫£ng ${group} (W.${group}): <strong>${winner.D}</strong></li>`;
                } else if (winner && winner.W === 0) {
                     ul.innerHTML += `<li>Nh·∫•t B·∫£ng ${group} (W.${group}): <strong>TBD (Ch∆∞a c√≥ tr·∫≠n th·∫Øng)</strong></li>`;
                }

                if (runnerUp && runnerUp.W > 0) {
                    ul.innerHTML += `<li>Nh√¨ B·∫£ng ${group} (R.${group}): <strong>${runnerUp.D}</strong></li>`;
                } else if (runnerUp && runnerUp.W === 0) {
                     ul.innerHTML += `<li>Nh√¨ B·∫£ng ${group} (R.${group}): <strong>TBD (Ch∆∞a c√≥ tr·∫≠n th·∫Øng)</strong></li>`;
                }
            });
        }

        // H√†m render Tr·∫≠n ƒë·∫•u (v√† g·∫Øn s·ª± ki·ªán c·∫≠p nh·∫≠t)
        function renderMatches() {
            const container = document.getElementById('matches-container');
            container.innerHTML = '';

            groups.forEach(group => {
                const matchesHtml = `
                    <div class="group-matches">
                        <h3>B·∫£ng ${group}</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>T.Gian</th>
                                    <th>S√¢n</th>
                                    <th>ƒê·ªôi A</th>
                                    <th style="text-align: center;">T·ªâ s·ªë</th>
                                    <th>ƒê·ªôi B</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data['matches' + group].map((match, matchIndex) => {
                                    return `
                                        <tr>
                                            <td>${match.t}</td>
                                            <td>${match.c}</td>
                                            <td>${match.A}</td>
                                            <td style="text-align: center;">
                                                <input type="number" min="0" value="${match.sA}" class="score-input" data-group="${group}" data-match-index="${matchIndex}" data-team="A">
                                                -
                                                <input type="number" min="0" value="${match.sB}" class="score-input" data-group="${group}" data-match-index="${matchIndex}" data-team="B">
                                            </td>
                                            <td>${match.B}</td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
                container.innerHTML += matchesHtml;
            });

            // G·∫Øn s·ª± ki·ªán l·∫Øng nghe cho c√°c √¥ input ƒë·ªÉ c·∫≠p nh·∫≠t real-time
            document.querySelectorAll('.score-input').forEach(input => {
                input.addEventListener('change', updateScoreAndRecalculate);
                input.addEventListener('input', updateScoreAndRecalculate);
            });
        }

        // H√†m c·∫≠p nh·∫≠t ƒëi·ªÉm v√† t√≠nh to√°n l·∫°i
        function updateScoreAndRecalculate(event) {
            const input = event.target;
            const group = input.dataset.group;
            const matchIndex = parseInt(input.dataset.matchIndex);
            const team = input.dataset.team;
            let score = parseInt(input.value);

            // X·ª≠ l√Ω gi√° tr·ªã kh√¥ng h·ª£p l·ªá
            if (isNaN(score) || score < 0) {
                score = 0;
                input.value = 0; 
            }

            // C·∫≠p nh·∫≠t d·ªØ li·ªáu JSON
            if (team === 'A') {
                data['matches' + group][matchIndex].sA = score.toString();
            } else {
                data['matches' + group][matchIndex].sB = score.toString();
            }

            // K√≠ch ho·∫°t t√≠nh to√°n l·∫°i B·∫£ng x·∫øp h·∫°ng real-time
            calculateGroupTables();
        }

        // Kh·ªüi ch·∫°y khi t·∫£i trang
        document.addEventListener('DOMContentLoaded', () => {
            renderMatches();
            calculateGroupTables();
        });

    </script>
</body>
</html>
